import { Component, OnInit } from '@angular/core';

interface Dataset {
  x: number;
  y: number;
};

interface RLTest {
  title: string;
  image: string,
  train: {
    dataset: Dataset[],
    mean_squared_error: number;
    r2: number;
  };
  test: {
    dataset: Dataset[],
    mean_squared_error: number;
    r2: number;
  };
  coef: number[];
};

@Component({
  selector: 'app-linear-regression',
  templateUrl: './linear-regression.component.html',
  styles: ['']
})
export class LinearRegressionComponent implements OnInit {
  eq_regLin1 = 'y = p_0 + p_1 x';
  eq_modelo1 = 'Y_i = \\sin(\\frac{2 \\pi X_i}{10}) + U(0, 0.5)';
  eq_modelo2 = 'X_i \\in [0,9]';
  examples: RLTest[] = [];

  constructor() { }

  ngOnInit() {
    this.examples.push({
      title: '2 Coeficientes',
      image: 'assets/images/ml/01_linear_regression/reg_poly_2_coef.png',
      train: {
        dataset: [{
          x: 0,
          y: 0.42221093,
        }, {
          x: 1,
          y: 0.96676245,
        }, {
          x: 2,
          y: 1.16134231,
        }, {
          x: 3,
          y: 1.08051489,
        }, {
          x: 4,
          y: 0.84342261,
        }, {
          x: 5,
          y: 0.20246707,
        }, {
          x: 6,
          y: -0.19588596,
        }, {
          x: 7,
          y: -0.79940015,
        }, {
          x: 8,
          y: -0.71275804,
        }, {
          x: 9,
          y: -0.29609423,
        }],
        mean_squared_error: 0.159652,
        r2: 0.676839,
      },
      test: {
        dataset: [{
          x: 0.45405644,
          y: 0.53378116,
        }, {
          x: 1.45405644,
          y: 0.93263351,
        }, {
          x: 2.45405644,
          y: 1.37748547,
        }, {
          x: 3.45405644,
          y: 1.13482978,
        }, {
          x: 4.45405644,
          y: 0.46159193,
        }, {
          x: 5.45405644,
          y: 0.17343539,
        }, {
          x: 6.45405644,
          y: -0.30032185,
        }, {
          x: 7.45405644,
          y: -0.59447475,
        }, {
          x: 8.45405644,
          y: -0.37456231,
        }, {
          x: 9.45405644,
          y: -0.18126498,
        },],
        mean_squared_error: 0.180604,
        r2: 0.569929,
      },
      coef: [
        0.624115809,
        0.10325181,
        -0.03237722
      ],
    }, {
      title: '3 Coeficientes',
      image: 'assets/images/ml/01_linear_regression/reg_poly_3_coef.png',
      train: {
        dataset: [{
          x: 0,
          y: 0.42221093,
        }, {
          x: 1,
          y: 0.96676245,
        }, {
          x: 2,
          y: 1.16134231,
        }, {
          x: 3,
          y: 1.08051489,
        }, {
          x: 4,
          y: 0.84342261,
        }, {
          x: 5,
          y: 0.20246707,
        }, {
          x: 6,
          y: -0.19588596,
        }, {
          x: 7,
          y: -0.79940015,
        }, {
          x: 8,
          y: -0.71275804,
        }, {
          x: 9,
          y: -0.29609423,
        }],
        mean_squared_error: 0.052880,
        r2: 0.892961,
      },
      test: {
        dataset: [{
          x: 0.45405644,
          y: 0.53378116,
        }, {
          x: 1.45405644,
          y: 0.93263351,
        }, {
          x: 2.45405644,
          y: 1.37748547,
        }, {
          x: 3.45405644,
          y: 1.13482978,
        }, {
          x: 4.45405644,
          y: 0.46159193,
        }, {
          x: 5.45405644,
          y: 0.17343539,
        }, {
          x: 6.45405644,
          y: -0.30032185,
        }, {
          x: 7.45405644,
          y: -0.59447475,
        }, {
          x: 8.45405644,
          y: -0.37456231,
        }, {
          x: 9.45405644,
          y: -0.18126498,
        },],
        mean_squared_error: 0.032435,
        r2: 0.922762,
      },
      coef: [
        -0.05561561,
        1.2095913,
        -0.34308288,
        0.02245402
      ],
    }, {
      title: '4 Coeficientes',
      image: 'assets/images/ml/01_linear_regression/reg_poly_4_coef.png',
      train: {
        dataset: [{
          x: 0,
          y: 0.42221093,
        }, {
          x: 1,
          y: 0.96676245,
        }, {
          x: 2,
          y: 1.16134231,
        }, {
          x: 3,
          y: 1.08051489,
        }, {
          x: 4,
          y: 0.84342261,
        }, {
          x: 5,
          y: 0.20246707,
        }, {
          x: 6,
          y: -0.19588596,
        }, {
          x: 7,
          y: -0.79940015,
        }, {
          x: 8,
          y: -0.71275804,
        }, {
          x: 9,
          y: -0.29609423,
        }],
        mean_squared_error: 0.058037,
        r2: 0.882523,
      },
      test: {
        dataset: [{
          x: 0.45405644,
          y: 0.53378116,
        }, {
          x: 1.45405644,
          y: 0.93263351,
        }, {
          x: 2.45405644,
          y: 1.37748547,
        }, {
          x: 3.45405644,
          y: 1.13482978,
        }, {
          x: 4.45405644,
          y: 0.46159193,
        }, {
          x: 5.45405644,
          y: 0.17343539,
        }, {
          x: 6.45405644,
          y: -0.30032185,
        }, {
          x: 7.45405644,
          y: -0.59447475,
        }, {
          x: 8.45405644,
          y: -0.37456231,
        }, {
          x: 9.45405644,
          y: -0.18126498,
        },],
        mean_squared_error: 0.046140,
        r2: 0.890127,
      },
      coef: [
        0.12189505,
        0.94699906,
        -0.17406043,
        -0.01209759,
        0.00216286
      ],
    }, {
      title: '5 Coeficientes',
      image: 'assets/images/ml/01_linear_regression/reg_poly_5_coef.png',
      train: {
        dataset: [{
          x: 0,
          y: 0.42221093,
        }, {
          x: 1,
          y: 0.96676245,
        }, {
          x: 2,
          y: 1.16134231,
        }, {
          x: 3,
          y: 1.08051489,
        }, {
          x: 4,
          y: 0.84342261,
        }, {
          x: 5,
          y: 0.20246707,
        }, {
          x: 6,
          y: -0.19588596,
        }, {
          x: 7,
          y: -0.79940015,
        }, {
          x: 8,
          y: -0.71275804,
        }, {
          x: 9,
          y: -0.29609423,
        }],
        mean_squared_error: 0.054207,
        r2: 0.890277,
      },
      test: {
        dataset: [{
          x: 0.45405644,
          y: 0.53378116,
        }, {
          x: 1.45405644,
          y: 0.93263351,
        }, {
          x: 2.45405644,
          y: 1.37748547,
        }, {
          x: 3.45405644,
          y: 1.13482978,
        }, {
          x: 4.45405644,
          y: 0.46159193,
        }, {
          x: 5.45405644,
          y: 0.17343539,
        }, {
          x: 6.45405644,
          y: -0.30032185,
        }, {
          x: 7.45405644,
          y: -0.59447475,
        }, {
          x: 8.45405644,
          y: -0.37456231,
        }, {
          x: 9.45405644,
          y: -0.18126498,
        },],
        mean_squared_error: 0.041899,
        r2: 0.900227,
      },
      coef: [
        0.381268619,
        8.46794221e-01,
        -1.82460615e-01,
        -6.46487356e-03,
        2.00347927e-03,
        -3.02480609e-05
      ],
    }, {
      title: '6 Coeficientes',
      image: 'assets/images/ml/01_linear_regression/reg_poly_6_coef.png',
      train: {
        dataset: [{
          x: 0,
          y: 0.42221093,
        }, {
          x: 1,
          y: 0.96676245,
        }, {
          x: 2,
          y: 1.16134231,
        }, {
          x: 3,
          y: 1.08051489,
        }, {
          x: 4,
          y: 0.84342261,
        }, {
          x: 5,
          y: 0.20246707,
        }, {
          x: 6,
          y: -0.19588596,
        }, {
          x: 7,
          y: -0.79940015,
        }, {
          x: 8,
          y: -0.71275804,
        }, {
          x: 9,
          y: -0.29609423,
        }],
        mean_squared_error: 0.042288,
        r2: 0.914402,
      },
      test: {
        dataset: [{
          x: 0.45405644,
          y: 0.53378116,
        }, {
          x: 1.45405644,
          y: 0.93263351,
        }, {
          x: 2.45405644,
          y: 1.37748547,
        }, {
          x: 3.45405644,
          y: 1.13482978,
        }, {
          x: 4.45405644,
          y: 0.46159193,
        }, {
          x: 5.45405644,
          y: 0.17343539,
        }, {
          x: 6.45405644,
          y: -0.30032185,
        }, {
          x: 7.45405644,
          y: -0.59447475,
        }, {
          x: 8.45405644,
          y: -0.37456231,
        }, {
          x: 9.45405644,
          y: -0.18126498,
        },],
        mean_squared_error: 0.033639,
        r2: 0.919896,
      },
      coef: [
        0.494586316722,
        1.15552518e+00,
        -9.53078293e-01,
        3.96983390e-01,
        -8.53451350e-02,
        8.44962565e-03,
        -3.05470089e-04
      ],
    }, {
      title: '7 Coeficientes',
      image: 'assets/images/ml/01_linear_regression/reg_poly_7_coef.png',
      train: {
        dataset: [{
          x: 0,
          y: 0.42221093,
        }, {
          x: 1,
          y: 0.96676245,
        }, {
          x: 2,
          y: 1.16134231,
        }, {
          x: 3,
          y: 1.08051489,
        }, {
          x: 4,
          y: 0.84342261,
        }, {
          x: 5,
          y: 0.20246707,
        }, {
          x: 6,
          y: -0.19588596,
        }, {
          x: 7,
          y: -0.79940015,
        }, {
          x: 8,
          y: -0.71275804,
        }, {
          x: 9,
          y: -0.29609423,
        }],
        mean_squared_error: 0.034252,
        r2: 0.930668,
      },
      test: {
        dataset: [{
          x: 0.45405644,
          y: 0.53378116,
        }, {
          x: 1.45405644,
          y: 0.93263351,
        }, {
          x: 2.45405644,
          y: 1.37748547,
        }, {
          x: 3.45405644,
          y: 1.13482978,
        }, {
          x: 4.45405644,
          y: 0.46159193,
        }, {
          x: 5.45405644,
          y: 0.17343539,
        }, {
          x: 6.45405644,
          y: -0.30032185,
        }, {
          x: 7.45405644,
          y: -0.59447475,
        }, {
          x: 8.45405644,
          y: -0.37456231,
        }, {
          x: 9.45405644,
          y: -0.18126498,
        },],
        mean_squared_error: 0.029938,
        r2: 0.928708,
      },
      coef: [
        0.423186897,
        6.22123289e-01,
        2.32516440e-02,
        -1.58650349e-01,
        6.19482833e-02,
        -1.17606182e-02,
        1.09334124e-03,
        -3.88001206e-05,
      ],
    }, {
      title: '8 Coeficientes',
      image: 'assets/images/ml/01_linear_regression/reg_poly_8_coef.png',
      train: {
        dataset: [{
          x: 0,
          y: 0.42221093,
        }, {
          x: 1,
          y: 0.96676245,
        }, {
          x: 2,
          y: 1.16134231,
        }, {
          x: 3,
          y: 1.08051489,
        }, {
          x: 4,
          y: 0.84342261,
        }, {
          x: 5,
          y: 0.20246707,
        }, {
          x: 6,
          y: -0.19588596,
        }, {
          x: 7,
          y: -0.79940015,
        }, {
          x: 8,
          y: -0.71275804,
        }, {
          x: 9,
          y: -0.29609423,
        }],
        mean_squared_error: 0.247528,
        r2: 0.498963,
      },
      test: {
        dataset: [{
          x: 0.45405644,
          y: 0.53378116,
        }, {
          x: 1.45405644,
          y: 0.93263351,
        }, {
          x: 2.45405644,
          y: 1.37748547,
        }, {
          x: 3.45405644,
          y: 1.13482978,
        }, {
          x: 4.45405644,
          y: 0.46159193,
        }, {
          x: 5.45405644,
          y: 0.17343539,
        }, {
          x: 6.45405644,
          y: -0.30032185,
        }, {
          x: 7.45405644,
          y: -0.59447475,
        }, {
          x: 8.45405644,
          y: -0.37456231,
        }, {
          x: 9.45405644,
          y: -0.18126498,
        },],
        mean_squared_error: 0.260432,
        r2: 0.379832,
      },
      coef: [
        0.421599410,
        1.88447389e+00,
        -2.80531593e+00,
        2.21187142e+00,
        -9.31680872e-01,
        2.18088315e-01,
        -2.87018909e-02,
        1.98808642e-03,
        -5.63024038e-05
      ],
    }, {
      title: '9 Coeficientes',
      image: 'assets/images/ml/01_linear_regression/reg_poly_9_coef.png',
      train: {
        dataset: [{
          x: 0,
          y: 0.42221093,
        }, {
          x: 1,
          y: 0.96676245,
        }, {
          x: 2,
          y: 1.16134231,
        }, {
          x: 3,
          y: 1.08051489,
        }, {
          x: 4,
          y: 0.84342261,
        }, {
          x: 5,
          y: 0.20246707,
        }, {
          x: 6,
          y: -0.19588596,
        }, {
          x: 7,
          y: -0.79940015,
        }, {
          x: 8,
          y: -0.71275804,
        }, {
          x: 9,
          y: -0.29609423,
        }],
        mean_squared_error: 11.257432,
        r2: -21.786880,
      },
      test: {
        dataset: [{
          x: 0.45405644,
          y: 0.53378116,
        }, {
          x: 1.45405644,
          y: 0.93263351,
        }, {
          x: 2.45405644,
          y: 1.37748547,
        }, {
          x: 3.45405644,
          y: 1.13482978,
        }, {
          x: 4.45405644,
          y: 0.46159193,
        }, {
          x: 5.45405644,
          y: 0.17343539,
        }, {
          x: 6.45405644,
          y: -0.30032185,
        }, {
          x: 7.45405644,
          y: -0.59447475,
        }, {
          x: 8.45405644,
          y: -0.37456231,
        }, {
          x: 9.45405644,
          y: -0.18126498,
        },],
        mean_squared_error: 1.467272,
        r2: -26.307024,
      },
      coef: [
        0.4222110009,
        -5.20879171e+00,
        1.53993591e+01,
        -1.60077065e+01,
        8.57866884e+00,
        -2.66077001e+00,
        4.95071015e-01,
        -5.44593785e-02,
        3.26201039e-03,
        -8.19336492e-05,
      ],
    }, {
      title: '10 Coeficientes',
      image: 'assets/images/ml/01_linear_regression/reg_poly_10_coef.png',
      train: {
        dataset: [{
          x: 0,
          y: 0.42221093,
        }, {
          x: 1,
          y: 0.96676245,
        }, {
          x: 2,
          y: 1.16134231,
        }, {
          x: 3,
          y: 1.08051489,
        }, {
          x: 4,
          y: 0.84342261,
        }, {
          x: 5,
          y: 0.20246707,
        }, {
          x: 6,
          y: -0.19588596,
        }, {
          x: 7,
          y: -0.79940015,
        }, {
          x: 8,
          y: -0.71275804,
        }, {
          x: 9,
          y: -0.29609423,
        }],
        mean_squared_error: 31.641717,
        r2: -63.048000,
      },
      test: {
        dataset: [{
          x: 0.45405644,
          y: 0.53378116,
        }, {
          x: 1.45405644,
          y: 0.93263351,
        }, {
          x: 2.45405644,
          y: 1.37748547,
        }, {
          x: 3.45405644,
          y: 1.13482978,
        }, {
          x: 4.45405644,
          y: 0.46159193,
        }, {
          x: 5.45405644,
          y: 0.17343539,
        }, {
          x: 6.45405644,
          y: -0.30032185,
        }, {
          x: 7.45405644,
          y: -0.59447475,
        }, {
          x: 8.45405644,
          y: -0.37456231,
        }, {
          x: 9.45405644,
          y: -0.18126498,
        },],
        mean_squared_error: 31.979984,
        r2: -75.153962,
      },
      coef: [
        0.4222112431,
        -2.23501757e-01,
        1.29613290e+00,
        1.02988291e-01,
        -1.36333428e+00,
        1.03924916e+00,
        -3.74181017e-01,
        7.53658454e-02,
        -8.69015268e-03,
        5.36281664e-04,
        -1.37381177e-05,
      ],
    });
  }

}
